<!DOCTYPE html>
<head>
<meta charset="utf-8">
<style>
body, html {
	width: 100%;
	height: 100%;
	margin: 0;
}
#beadnet {
	border: 3px solid gray;
	box-sizing: border-box;
	position: absolute;
	top: 0;
	left: 0;
	bottom: 0%;
	right: 0;
}
</style>
</head>
<body>
<div id="beadnet"></div>

<script src="../../node_modules/d3/dist/d3.js"></script>
<script src="../../node_modules/async/dist/async.js"></script>

<script src="../../dist/beadnet.standalone.min.js"></script>
<script>
window.onload = function () {

	var colors = d3.scaleOrdinal(d3.schemeCategory10);

	// initialize BeadNet
	var bn = new beadnet({
		colorScheme: colors
	});

	// add 10 random nodes
	bn.addNodes(bn.createRandomNodes(10));

	setInterval(() => {
		var rand = Math.random();
		if (rand >= 0.6) {
			// remove a random channel
			var channel = bn.getRandomChannel();
			if (channel) {
				bn.removeChannel(channel.source, channel.target);
			}
		} else {
			// create a new a random channel and add it
			var channels = bn.createRandomChannels(1);
			if (channels) {
				bn.addChannels(channels);
			}
		}
	},1000);

};
</script>
</body>
</html>