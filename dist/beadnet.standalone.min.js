!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.beadnet=t()}(this,function(){"use strict";var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(e,t){return e(t={exports:{}},t.exports),t.exports}var c=e(function(e){var t;t=function(e,t){var n=["abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ","0123456789","~!@#$%^&()_+-={}[];',"],o="";(t=t||"aA0").split("").forEach(function(e){isNaN(parseInt(e))?/[a-z]/.test(e)?o+=n[0]:/[A-Z]/.test(e)?o+=n[1]:o+=n[3]:o+=n[2]});e=e||30;for(var r="";e--;)r+=o.charAt(Math.floor(Math.random()*o.length));return r},e.exports=t}),s=e(function(e){var t,n;t=o,n=function(){var r=function(){},c="undefined",s=["trace","debug","info","warn","error"];function i(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function u(e,t){for(var n=0;n<s.length;n++){var o=s[n];this[o]=n<e?r:this.methodFactory(o,e,t)}this.log=this.debug}function d(e,t,n){return"debug"===(o=e)&&(o="log"),typeof console!==c&&(void 0!==console[o]?i(console,o):void 0!==console.log?i(console,"log"):r)||function(e,t,n){return function(){typeof console!==c&&(u.call(this,t,n),this[e].apply(this,arguments))}}.apply(this,arguments);var o}function n(n,e,t){var o,r=this,i="loglevel";function a(){var e;if(typeof window!==c){try{e=window.localStorage[i]}catch(e){}if(typeof e===c)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(i)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===r.levels[e]&&(e=void 0),e}}n&&(i+=":"+n),r.name=n,r.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},r.methodFactory=t||d,r.getLevel=function(){return o},r.setLevel=function(e,t){if("string"==typeof e&&void 0!==r.levels[e.toUpperCase()]&&(e=r.levels[e.toUpperCase()]),!("number"==typeof e&&0<=e&&e<=r.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(o=e,!1!==t&&function(e){var t=(s[e]||"silent").toUpperCase();if(typeof window!==c){try{return window.localStorage[i]=t}catch(e){}try{window.document.cookie=encodeURIComponent(i)+"="+t+";"}catch(e){}}}(e),u.call(r,e,n),typeof console===c&&e<r.levels.SILENT)return"No console available for logging"},r.setDefaultLevel=function(e){a()||r.setLevel(e,!1)},r.enableAll=function(e){r.setLevel(r.levels.TRACE,e)},r.disableAll=function(e){r.setLevel(r.levels.SILENT,e)};var l=a();null==l&&(l=null==e?"WARN":e),r.setLevel(l,!1)}var o=new n,a={};o.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=a[e];return t||(t=a[e]=new n(e,o.getLevel(),o.methodFactory)),t};var e=typeof window!==c?window.log:void 0;return o.noConflict=function(){return typeof window!==c&&window.log===o&&(window.log=e),o},o.getLoggers=function(){return a},o},e.exports?e.exports=n():t.log=n()});s.enableAll(),s.setLevel("TRACE");var n=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();return function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.opt={},Object.assign(this.opt,{colorScheme:d3.scaleOrdinal(d3.schemeCategory10),container:{parent:"body",width:null,height:null},nodes:{strokeWidth:3,color:null,radius:20}},e),this.opt.nodes.color=this.opt.nodes.color||this.opt.colorScheme(0),s.debug("initializing beadnet with options: ",this.opt)}return n(t,[{key:"createSVG",value:function(){var e=d3.select(this.opt.container.parent),t=e.node().getBoundingClientRect(),n=this.opt.container.width||t.width,o=this.opt.container.height||t.height;if(s.debug("createSVG: width: "+t.width+", height: "+t.height),!n||!o)throw s.error("createSVG: width: "+n+", height: "+o),"Invalid container size";return this._svg=e.append("svg").attr("width",t.width).attr("height",t.height),this._svg}},{key:"createNode",value:function(e){var t=e.id,n=void 0===t?c():t,o=e.x,r=void 0===o?null:o,i=e.y,a=void 0===i?null:i;s.debug("createNode: id:"+n+", x:"+r+", y:"+a);var l=this._svg.selectAll(".node").data(arguments).enter().append("g").attr("id",function(e){return e.id}).attr("transform",function(e){return"translate("+e.x+", "+e.y+")"});l.append("circle").style("stroke-width",this.opt.nodes.strokeWidth).style("fill",this.opt.nodes.color).attr("r",this.opt.nodes.radius),l.append("text").attr("stroke","#FFF").attr("font-family","sans-serif").attr("font-size","10px").attr("text-anchor","middle").text(function(e){return e.id})}},{key:"createNodes",value:function(e){var t=this;s.debug("createNodes: ",e),e.forEach(function(e){return t.createNode(e)})}},{key:"createChannel",value:function(e){e.source,e.target}},{key:"createChannels",value:function(e){var t=this;e.forEach(function(e){return t.createChannel(e)})}}]),t}()});
